@using GetBooks.Models
@model IEnumerable<Order>

<div class="container p-3">
	<div class="row pt-4">
		<div class="col-6">
			<h2 class="text-primary">Order History</h2>
		</div>
	</div>

	<br />
	<br />
	<table id="ordersTable" class="table table-bordered table-striped text-center" style="width:100%">
		<thead>
			<tr>
				<th style="width:25%">Order Number</th>
				<th style="width:25%">Create Date</th>
				<th style="width:25%">Status</th>
				<th style="width:10%">Total Price</th>
				<th style="width:15%"></th>
			</tr>
		</thead>
		<tbody>
			@if (Model.Count() > 0)
			{
				@foreach(var order in Model)
				{
					<tr>
						<td>@order.Id</td>
						<td>@order.CreatedDate</td>
						<td>@order.Status</td>
						<td>@order.TotalPrice</td>
						<td>
							<a asp-controller="Order" asp-action="Details" asp-route-id="@order.Id" class="btn btn-info">Details</a>
						</td>
					</tr>
				}
			}
			else
			{
				<tr>
					<td colspan=5 style="text-align:center">
						<h2 class=text-info>You haven't ordered anything yet. <a asp-area="Shop" asp-controller="Book" asp-action="Index">Let's buy something</a></h2>
					</td>
				</tr>
			}
			
		</tbody>
	</table>
</div>